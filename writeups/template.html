<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Writeup</title>
  <style>
    :root {
      --bg-dark: #0d0d0d;
      --text-dark: #ffffff;
      --accent-green: #00ff9f;
      --accent-yellow: #f5c542;
      --beige-bg: #f6ecd9;
      --beige-text: #222;
    }
    
    .writeup-page h1 { color: var(--accent-green); }

    body.light-mode .writeup-page h1 {
    color: var(--accent-yellow);
    transition: color 200ms ease;
    }
    
    .img-rounded{
      max-width: 100%;
      border-radius: 12px;
    }

    body { background: var(--bg-dark); color: var(--text-dark); font-family: "Courier New", monospace; margin:0; padding:0; }
    header { position: relative; text-align: center; padding: 0.1rem; margin-top: 2rem; }
    .home-button { position: absolute; top: 2.5rem; left: 2.5rem; color: var(--accent-green); text-decoration: none; }
    .home-button:hover { color: #fff; }
    .writeup-page { width: 70%; margin: 2rem auto; padding: 2rem; background-color: #111; border: 1px solid #333; border-radius: 6px; box-shadow: 0 0 10px #000; }
    .writeup-page h1 { color: var(--accent-green); margin-top: 0; }
    .writeup-page small { display:block; margin-bottom:1rem; color:#aaa; }
    .back-link { color: var(--accent-green); text-decoration:none; font-weight:bold; }
    .back-link:hover { color:#fff; text-decoration:underline; }
    body.light-mode { background: var(--beige-bg); color: var(--beige-text); }
    body.light-mode .writeup-page { background: #fbf7ef; border: 1px solid #ddd; }
    body.light-mode .home-button { color: var(--accent-yellow); }
    body.light-mode .back-link { color: #006699; }
  </style>
</head>
<body>
  <header>
    <a href="../index.html" class="home-button"><i class="fas fa-home"></i></a>
    <h1 style="font-size: 2.5rem;">Writeups</h1>
  </header>

  <div class="writeup-page">
    <h1 style="font-size: 3rem;">  </h1>
    <small>Jan 2026</small>
   

    <a href="../index.html#writeups" class="back-link">&larr; Back to Writeups</a>
    
    <script src="https://giscus.app/client.js"
        data-repo="kraken-503/kraken-503.github.io"
        data-repo-id="R_kgDOQ2jqiw"
        data-category="[ENTER CATEGORY NAME HERE]"
        data-category-id="[ENTER CATEGORY ID HERE]"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="preferred_color_scheme"
        data-lang="en"
        crossorigin="anonymous"
        async>
    </script>

    <script>
(function () {
  // Apply saved theme to the page
  const saved = localStorage.getItem('theme');
  const isLight = saved === 'light';
  document.body.classList.toggle('light-mode', isLight);

  // Try client API, then postMessage, then reload script
  function setGiscusTheme(theme) {
    // 1) client API
    if (window.giscus && typeof window.giscus.setConfig === 'function') {
      try {
        window.giscus.setConfig({ theme });
        return Promise.resolve(true);
      } catch (e) { /* fall through */ }
    }

    // 2) postMessage to iframe
    const iframe = document.querySelector('iframe.giscus-frame') || document.querySelector('iframe[src*="giscus.app"]');
    if (iframe && iframe.contentWindow) {
      try {
        iframe.contentWindow.postMessage({ giscus: { setConfig: { theme } } }, 'https://giscus.app');
        return Promise.resolve(true);
      } catch (e) { /* fall through */ }
    }

    // 3) reload giscus script with data-theme override (last resort)
    return reloadGiscusWithTheme(theme);
  }

  function reloadGiscusWithTheme(theme) {
    return new Promise((resolve, reject) => {
      const oldScript = Array.from(document.querySelectorAll('script[src]'))
        .find(s => s.src && s.src.includes('giscus.app/client.js'));
      if (!oldScript) return reject(new Error('giscus script not found'));

      // remove existing iframe if present
      const iframe = document.querySelector('iframe.giscus-frame') || document.querySelector('iframe[src*="giscus.app"]');
      if (iframe && iframe.parentNode) iframe.parentNode.removeChild(iframe);

      // create new script copying data-* attributes but overriding data-theme
      const newScript = document.createElement('script');
      newScript.src = oldScript.src;
      newScript.async = true;
      newScript.crossOrigin = oldScript.crossOrigin || 'anonymous';

      Array.from(oldScript.attributes).forEach(attr => {
        if (attr.name.startsWith('data-')) {
          if (attr.name === 'data-theme') newScript.setAttribute('data-theme', theme);
          else newScript.setAttribute(attr.name, attr.value);
        }
      });
      if (!newScript.hasAttribute('data-theme')) newScript.setAttribute('data-theme', theme);

      oldScript.parentNode.insertBefore(newScript, oldScript.nextSibling);

      // wait for iframe to appear
      let tries = 0;
      const max = 40;
      const t = setInterval(() => {
        const f = document.querySelector('iframe.giscus-frame') || document.querySelector('iframe[src*="giscus.app"]');
        if (f) {
          clearInterval(t);
          resolve();
        } else if (++tries >= max) {
          clearInterval(t);
          reject(new Error('giscus iframe did not appear'));
        }
      }, 100);
    });
  }

  // Kick off sync (poll until success or timeout)
  const desired = isLight ? 'light' : 'dark';
  let attempts = 0;
  const maxAttempts = 40;
  const poll = setInterval(() => {
    setGiscusTheme(desired).then(success => {
      if (success) clearInterval(poll);
    }).catch(() => {
      if (++attempts >= maxAttempts) clearInterval(poll);
    });
  }, 150);

  // Keep widget in sync if theme changes in another tab
  window.addEventListener('storage', (e) => {
    if (e.key !== 'theme') return;
    const newIsLight = e.newValue === 'light';
    document.body.classList.toggle('light-mode', newIsLight);
    setGiscusTheme(newIsLight ? 'light' : 'dark');
  });

  // Optional helper to toggle programmatically on this page
  window.syncWriteupTheme = function(makeLight) {
    document.body.classList.toggle('light-mode', !!makeLight);
    localStorage.setItem('theme', makeLight ? 'light' : 'dark');
    setGiscusTheme(makeLight ? 'light' : 'dark');
  };
})();
</script>

  </div>

  <script>
    (function(){
      const saved = localStorage.getItem('theme');
      if (saved === 'light') document.body.classList.add('light-mode');
    })();
  </script>
</body>
</html>

